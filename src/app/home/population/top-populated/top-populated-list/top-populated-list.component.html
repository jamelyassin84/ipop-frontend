<div
    [@listAnimation]="10"
    *ngIf="topPopulated && location"
    class="m-0 row t-w-full"
>
    <div class="mb-3 col-md-6" *ngFor="let municipality of topPopulated">
        <div class="p-20 bg-white card-shadow">
            <div class="layer w-100 mB-10">
                <h4 class="lh-1 d-flex">
                    {{ municipality.data.name }}
                    <button
                        matTooltip="Remove Municipality"
                        (click)="deleteTopPopulated(municipality.id)"
                        class="ml-auto"
                    >
                        <i class="ti-minus"></i>
                    </button>
                </h4>
            </div>

            <div class="layer w-100">
                <div class="peers ai-sb fxw-nw">
                    <div class="peer peer-greed">
                        <div
                            style="
                                background: rgba(150, 150, 150, 0.3) !important;
                            "
                            class="mt-1 progress w-75"
                        >
                            <div
                                class="progress-bar bgc-blue-500"
                                role="progressbar"
                                aria-valuenow="10"
                                aria-valuemin="0"
                                aria-valuemax="100"
                                [style.width]="
                                    (topPopulated
                                        | get_percentage
                                            : municipality.data.name) + '%'
                                "
                            ></div>
                        </div>
                        <span style="font-size: 1rem"
                            ><i class="mr-3 ti-user"></i
                            >{{ municipality.data.total | number }}</span
                        >
                    </div>
                    <div class="peer">
                        <span
                            style="
                                background: rgba(150, 150, 150, 0.1) !important;
                            "
                            class="d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 c-blue-500"
                            >{{
                                topPopulated
                                    | get_percentage: municipality.data.name
                                    | number: '1.2-2'
                            }}%</span
                        >
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
